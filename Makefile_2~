CC = gcc -std=c99

LDFLAGS = -g 
CFLAGS = -g 
LIB = -L/usr/lib -lpthread
INCLUDE = -I/usr/include

all: server client worker

#    $(CC) $(LDFLAGS) lsp.o lspmessage.pb-c.o sample_server.o list.o -o server $(INCLUDE) $(LIB)
#    gcc -g lsp.o lspmessage.pb-c.o sample_server.o list.o hash.o -o server -I/usr/include -L/usr/lib -lpthread -lprotobuf-c

#    gcc -g lsp.o lspmessage.pb-c.o sample_client.o list.o -o client -I/usr/include -L/usr/lib -lprotobuf-c -lpthread

#    gcc -g lsp.o lspmessage.pb-c.o sample_worker.o list.o hash.o -o worker -I/usr/include -L/usr/lib -lprotobuf-c -lpthread

	
	
client: lsp.o list.o lspmessage.pb-c.o sample_client.o
	$(CC) $(CFLAGS) $^ -o $@ -I/usr/include -L/usr/lib -lpthread -lprotobuf-c

worker: lsp.o list.o lspmessage.pb-c.o sample_worker.o
	$(CC) $(CFLAGS) $^ -o $@ -I/usr/include -L/usr/lib -lpthread -lprotobuf-c

%.o:	%.c
	$(CC) -c $(CFLAGS) $< -o $@ -I/usr/include -L/usr/lib -lprotobuf-c


clean:
	rm -f *.o
	rm -f $(TARGET)



#gcc -g  hashtest.c -o hashtest.o `pkg-config --cflags --libs glib-2.0`

